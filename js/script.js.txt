function submitForm() {
    const submitBtn = bookingForm.querySelector('.form-submit');
    const originalText = submitBtn.innerHTML;
    
    // Pobierz dane z formularza
    const formData = {
        name: document.getElementById('name').value.trim(),
        email: document.getElementById('email').value.trim(),
        phone: document.getElementById('phone').value.trim(),
        date: document.getElementById('date').value,
        people: document.getElementById('people').value,
        route: document.getElementById('route').value,
        message: document.getElementById('message')?.value?.trim() || ''
    };

    // Loading state
    submitBtn.disabled = true;
    submitBtn.innerHTML = '<span>Wysyłanie...</span>';
    
    // URL do opublikowanego Apps Script (wypełnisz po wdrożeniu punktu 2)
    const SCRIPT_URL = 'https://script.google.com/macros/s/XXX/exec'; // <-- ZAMIEŃ TO!
    
    fetch(SCRIPT_URL, {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
        },
        body: JSON.stringify(formData)
    })
    .then(response => response.json())
    .then(data => {
        if (data.result === 'success') {
            submitBtn.innerHTML = '<span>✓ Wysłano!</span>';
            submitBtn.style.background = '#10b981';
            
            showNotification('Rezerwacja wysłana! Potwierdzenie znajdziesz na mailu.', 'success');
            
            // Reset formularza po 2s
            setTimeout(() => {
                bookingForm.reset();
                submitBtn.disabled = false;
                submitBtn.innerHTML = originalText;
                submitBtn.style.background = '';
            }, 2000);
        } else {
            throw new Error(data.message || 'Błąd serwera');
        }
    })
    .catch(error => {
        console.error('Błąd:', error);
        submitBtn.innerHTML = '<span>Błąd - spróbuj ponownie</span>';
        submitBtn.style.background = '#ef4444';
        showNotification('Wystąpił błąd: ' + error.message, 'error');
        
        setTimeout(() => {
            submitBtn.disabled = false;
            submitBtn.innerHTML = originalText;
            submitBtn.style.background = '';
        }, 3000);
    });
}
